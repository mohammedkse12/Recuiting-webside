<?php session_start(); include 'db.php'; if(!isset($_SESSION['user_id'])||$_SESSION['role']!=='employer'){ header('Location: login_register.php'); exit; } $eid=$_SESSION['user_id']; if($_SERVER['REQUEST_METHOD']==='POST'){ $t=trim($_POST['title']); $c=trim($_POST['company']); $loc=trim($_POST['location']); $type=trim($_POST['type']); $sal=trim($_POST['salary']); $desc=trim($_POST['description']); if(!$t||!$c){ header('Location: employer.php?msg='.urlencode('Fill required')); exit; } $s=$conn->prepare('INSERT INTO jobs (employer_id,title,company,location,type,salary,description) VALUES (?,?,?,?,?,?,?)'); $s->bind_param('issssss',$eid,$t,$c,$loc,$type,$sal,$desc); $s->execute(); header('Location: employer.php?msg='.urlencode('Job posted')); exit; } else header('Location: employer.php'); ?>